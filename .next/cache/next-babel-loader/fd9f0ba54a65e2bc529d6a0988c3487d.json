{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\pickbazar\\\\packages\\\\shop\\\\containers\\\\Banner\\\\Banner.tsx\";\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useCallback } from 'react';\nimport { useRouter } from 'next/router';\nimport { Waypoint } from 'react-waypoint';\nimport SearchBox from 'components/SearchBox/SearchBox';\nimport { SearchContext } from 'contexts/search/search.context';\nimport { useStickyDispatch } from 'contexts/app/app.provider';\nimport { FormattedMessage } from 'react-intl';\nimport { BannerWrapper, BannerHeading, BannerSubHeading, BannerComponent } from './Banner.style';\n\nvar Banner = function Banner(_ref) {\n  var imageUrl = _ref.imageUrl,\n      intlTitleId = _ref.intlTitleId,\n      intlDescriptionId = _ref.intlDescriptionId;\n\n  var _useContext = useContext(SearchContext),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch;\n\n  var router = useRouter(); // const { text } = state;\n\n  var pathname = router.pathname;\n\n  var handleSearchInput = function handleSearchInput(text) {\n    dispatch({\n      type: 'UPDATE',\n      payload: _objectSpread({}, state, {\n        text: text\n      })\n    });\n  };\n\n  function handleClickSearchButton() {\n    var page = state.page,\n        urlState = _objectWithoutProperties(state, [\"page\"]);\n\n    router.push({\n      pathname: pathname,\n      query: _objectSpread({}, urlState)\n    }, {\n      pathname: pathname === '/' ? \"\".concat(pathname, \"grocery\") : pathname,\n      query: _objectSpread({}, urlState)\n    }, {\n      shallow: true\n    });\n  }\n\n  var useDispatch = useStickyDispatch();\n  var setSticky = useCallback(function () {\n    return useDispatch({\n      type: 'SET_STICKY'\n    });\n  }, [useDispatch]);\n  var removeSticky = useCallback(function () {\n    return useDispatch({\n      type: 'REMOVE_STICKY'\n    });\n  }, [useDispatch]);\n\n  var onWaypointPositionChange = function onWaypointPositionChange(_ref2) {\n    var currentPosition = _ref2.currentPosition;\n\n    if (!currentPosition || currentPosition === 'above') {\n      setSticky();\n    }\n  };\n\n  return __jsx(BannerWrapper, {\n    style: {\n      backgroundImage: \"url(\".concat(imageUrl, \")\")\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, __jsx(BannerComponent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, __jsx(BannerHeading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, __jsx(FormattedMessage, {\n    id: intlTitleId,\n    defaultMessage: \"Set Your Title Through Language File\",\n    values: {\n      minute: 90\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  })), __jsx(BannerSubHeading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, __jsx(FormattedMessage, {\n    id: intlDescriptionId,\n    defaultMessage: \"Set Your Description Through Language File\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  })), __jsx(SearchBox, {\n    style: {\n      width: 700,\n      boxShadow: '0 21px 36px rgba(0,0,0,0.05)',\n      borderRadius: '6px',\n      overflow: 'hidden'\n    },\n    handleSearch: function handleSearch(value) {\n      return handleSearchInput(value);\n    },\n    value: state.text || '',\n    onClick: handleClickSearchButton,\n    className: \"banner-search\",\n    pathname: pathname,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), __jsx(Waypoint, {\n    onEnter: removeSticky,\n    onLeave: setSticky,\n    onPositionChange: onWaypointPositionChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Banner;","map":{"version":3,"sources":["C:/Users/USER/Desktop/pickbazar/packages/shop/containers/Banner/Banner.tsx"],"names":["React","useContext","useCallback","useRouter","Waypoint","SearchBox","SearchContext","useStickyDispatch","FormattedMessage","BannerWrapper","BannerHeading","BannerSubHeading","BannerComponent","Banner","imageUrl","intlTitleId","intlDescriptionId","state","dispatch","router","pathname","handleSearchInput","text","type","payload","handleClickSearchButton","page","urlState","push","query","shallow","useDispatch","setSticky","removeSticky","onWaypointPositionChange","currentPosition","backgroundImage","minute","width","boxShadow","borderRadius","overflow","value"],"mappings":"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","sourcesContent":["import React, { useContext, useCallback } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport { Waypoint } from 'react-waypoint';\r\nimport SearchBox from 'components/SearchBox/SearchBox';\r\nimport { SearchContext } from 'contexts/search/search.context';\r\nimport { useStickyDispatch } from 'contexts/app/app.provider';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport {\r\n  BannerWrapper,\r\n  BannerHeading,\r\n  BannerSubHeading,\r\n  BannerComponent,\r\n} from './Banner.style';\r\n\r\ntype BannerProps = {\r\n  imageUrl: string;\r\n  intlTitleId: string;\r\n  intlDescriptionId: string;\r\n};\r\n\r\nconst Banner: React.FC<BannerProps> = ({\r\n  imageUrl,\r\n  intlTitleId,\r\n  intlDescriptionId,\r\n}) => {\r\n  const { state, dispatch } = useContext(SearchContext);\r\n  const router = useRouter();\r\n  // const { text } = state;\r\n\r\n  const { pathname } = router;\r\n\r\n  const handleSearchInput = (text: string) => {\r\n    dispatch({\r\n      type: 'UPDATE',\r\n      payload: {\r\n        ...state,\r\n        text,\r\n      },\r\n    });\r\n  };\r\n\r\n  function handleClickSearchButton() {\r\n    const { page, ...urlState } = state;\r\n\r\n    router.push(\r\n      {\r\n        pathname: pathname,\r\n        query: { ...urlState },\r\n      },\r\n      {\r\n        pathname: pathname === '/' ? `${pathname}grocery` : pathname,\r\n        query: { ...urlState },\r\n      },\r\n      { shallow: true }\r\n    );\r\n  }\r\n  const useDispatch = useStickyDispatch();\r\n  const setSticky = useCallback(() => useDispatch({ type: 'SET_STICKY' }), [\r\n    useDispatch,\r\n  ]);\r\n  const removeSticky = useCallback(\r\n    () => useDispatch({ type: 'REMOVE_STICKY' }),\r\n    [useDispatch]\r\n  );\r\n\r\n  const onWaypointPositionChange = ({ currentPosition }) => {\r\n    if (!currentPosition || currentPosition === 'above') {\r\n      setSticky();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <BannerWrapper\r\n      style={{\r\n        backgroundImage: `url(${imageUrl})`,\r\n      }}\r\n    >\r\n      <BannerComponent>\r\n        <BannerHeading>\r\n          <FormattedMessage\r\n            id={intlTitleId}\r\n            defaultMessage='Set Your Title Through Language File'\r\n            values={{ minute: 90 }}\r\n          />\r\n        </BannerHeading>\r\n        <BannerSubHeading>\r\n          <FormattedMessage\r\n            id={intlDescriptionId}\r\n            defaultMessage='Set Your Description Through Language File'\r\n          />\r\n        </BannerSubHeading>\r\n\r\n        <SearchBox\r\n          style={{\r\n            width: 700,\r\n            boxShadow: '0 21px 36px rgba(0,0,0,0.05)',\r\n            borderRadius: '6px',\r\n            overflow: 'hidden',\r\n          }}\r\n          handleSearch={(value: string) => handleSearchInput(value)}\r\n          value={state.text || ''}\r\n          onClick={handleClickSearchButton}\r\n          className='banner-search'\r\n          pathname={pathname}\r\n        />\r\n        <Waypoint\r\n          onEnter={removeSticky}\r\n          onLeave={setSticky}\r\n          onPositionChange={onWaypointPositionChange}\r\n        />\r\n      </BannerComponent>\r\n    </BannerWrapper>\r\n  );\r\n};\r\nexport default Banner;\r\n"]},"metadata":{},"sourceType":"module"}